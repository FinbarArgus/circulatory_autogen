<?xml version='1.0' encoding='UTF-8'?>
<model name="modules" xmlns="http://www.cellml.org/cellml/1.1#" xmlns:cellml="http://www.cellml.org/cellml/1.1#">
    <!--//////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////// non-BC Vessel ////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////-->
    <!--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////   -->
    <component name="pv_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <ci>C</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//
&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="vp_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!--C = 2{dimensionless}*pi*pow(r, 3{dimensionless})*l/(E*h);-->
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <ci>C</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//
&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="pp_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v_d" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <apply>
                                    <divide/>
                                    <ci>R</ci>
                                    <cn cellml:units="dimensionless">2</cn>
                                </apply>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>I</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <ci>C</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_d</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v_d</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <apply>
                                <divide/>
                                <ci>R</ci>
                                <cn cellml:units="dimensionless">2</cn>
                            </apply>
                            <ci>v_d</ci>
                        </apply>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>I</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_C_d</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C_d</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pv_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- emperical relation-->
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u_in</ci>
                            <ci>u</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- constitutive laws-->
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <ci>C</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pp_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v_d" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u_in</ci>
                            <ci>u</ci>
                        </apply>
                        <apply>
                            <times/>
                            <apply>
                                <divide/>
                                <ci>R</ci>
                                <cn cellml:units="dimensionless">2</cn>
                            </apply>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>I</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <ci>C</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_d</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v_d</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <apply>
                                <divide/>
                                <ci>R</ci>
                                <cn cellml:units="dimensionless">2</cn>
                            </apply>
                            <ci>v_d</ci>
                        </apply>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>I</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_C_d</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_d</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C_d</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_rigid_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- IF KEEPING TRACK OF VOLUME, DONT USE THIS MODULE. IT DOESNT HAVE A BASELINE VOLUME.-->
        <!-- Constitutive parameters-->
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <!-- Conservation Laws-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>v_in</ci>
                        <ci>v_out</ci>
                    </apply>
                    <ci>R</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <ci>q_C</ci>
                        <ci>C</ci>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_simple_nonlinear_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="q_init" public_interface="in" units="m3"/>
        <variable initial_value="q_init" name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="R_nonlinear" public_interface="out" units="Js_per_m6"/>
        <!-- IMPORTANT, I AM USING q_init in this nonlinear law. to allow freedom on the Resistance set point.-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>R_nonlinear</ci>
                <apply>
                    <times/>
                    <ci>R</ci>
                    <apply>
                        <power/>
                        <apply>
                            <divide/>
                            <ci>q_init</ci>
                            <ci>q</ci>
                        </apply>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R_nonlinear</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_ven_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="q_C_init" public_interface="in" units="m3"/>
        <variable initial_value="q_C_init" name="q_C_change" public_interface="out" units="m3"/>
        <variable name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_us_0" public_interface="in" units="m3"/>
        <variable name="q_us_wCont" public_interface="out" units="m3"/>
        <variable name="Delta_q_us" public_interface="in" units="dimensionless"/>
        <variable name="Delta_C" public_interface="in" units="dimensionless"/>
        <variable name="C_wCont" public_interface="out" units="m6_per_J"/>
        <!-- TODO double check that this applies to veins-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_change</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <!-- TODO CHECK THAT CHANGING US VOLUME LIKE THIS CONSERVES VOLUME!!!!-->
            <apply>
                <eq/>
                <ci>q_C</ci>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>q_C_change</ci>
                        <ci>q_us_0</ci>
                    </apply>
                    <ci>q_us_wCont</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_us_wCont</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <ci>q_C</ci>
                        <ci>C_wCont</ci>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_us_wCont</ci>
                <apply>
                    <times/>
                    <ci>q_us_0</ci>
                    <apply>
                        <minus/>
                        <cn cellml:units="dimensionless">1</cn>
                        <ci>Delta_q_us</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C_wCont</ci>
                <apply>
                    <times/>
                    <ci>C</ci>
                    <apply>
                        <minus/>
                        <cn cellml:units="dimensionless">1</cn>
                        <ci>Delta_C</ci>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <!--//////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////// output-BC Vessel ///////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////-->
    <component name="pp_T_fixed_I_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I_T" public_interface="out" units="Js2_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="R_T" public_interface="in" units="Js_per_m6"/>
        <variable name="C_T" public_interface="in" units="m6_per_J"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <!-- v_T is the output flow to the venous side-->
        <variable initial_value="0.0" name="v_T" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_us" public_interface="in" units="m3"/>
        <variable name="q_init" public_interface="in" units="m3"/>
        <variable initial_value="q_init" name="q" public_interface="out" units="m3"/>
        <!-- Improve this R_v estimate?-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I_T</ci>
                <cn cellml:units="Js2_per_m6" type="e-notation">1<sep/>-6</cn>
            </apply>
            <!-- Conservation Laws-->
            <!-- For now terminals don't have a gravity effect, change this for leg terminals-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>q</ci>
                        <ci>q_us</ci>
                    </apply>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <!-- + u_ext;-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_T</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u_in</ci>
                            <ci>u</ci>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>v</ci>
                                <ci>R_T</ci>
                            </apply>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                    <ci>I_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v_T</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>v_T</ci>
                                <ci>R_T</ci>
                            </apply>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                    <ci>I_T</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pp_T_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I_T" public_interface="in" units="Js2_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="R_1_T" public_interface="in" units="Js_per_m6"/>
        <variable name="R_2_T" public_interface="in" units="Js_per_m6"/>
        <variable name="C_T" public_interface="in" units="m6_per_J"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <!-- v_T is the output flow to the venous side-->
        <variable initial_value="0.0" name="v_T" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_us" public_interface="in" units="m3"/>
        <variable name="q_init" public_interface="in" units="m3"/>
        <variable initial_value="q_init" name="q" public_interface="out" units="m3"/>
        <!-- Improve this R_v estimate?-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <!-- For now terminals don't have a gravity effect, change this for leg terminals-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>q</ci>
                        <ci>q_us</ci>
                    </apply>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <!-- + u_ext;-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_T</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u_in</ci>
                            <ci>u</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>v</ci>
                            <ci>R_1_T</ci>
                        </apply>
                    </apply>
                    <ci>I_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v_T</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>v_T</ci>
                            <ci>R_2_T</ci>
                        </apply>
                    </apply>
                    <ci>I_T</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pp_T_wCont_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I_T" public_interface="in" units="Js2_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="R_T" public_interface="in" units="Js_per_m6"/>
        <variable name="C_T" public_interface="in" units="m6_per_J"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <!-- v_T is the output flow to the venous side-->
        <variable initial_value="0.0" name="v_T" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_us" public_interface="in" units="m3"/>
        <variable name="q_init" public_interface="in" units="m3"/>
        <variable initial_value="q_init" name="q" public_interface="out" units="m3"/>
        <variable name="R_T_wCont" public_interface="out" units="Js_per_m6"/>
        <variable name="Delta_R" public_interface="in" units="dimensionless"/>
        <variable name="R_local_multiplier" public_interface="in" units="dimensionless"/>
        <!-- Improve this R_v estimate?-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <!-- For now terminals don't have a gravity effect, change this for leg terminals-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <apply>
                            <minus/>
                            <ci>q</ci>
                            <ci>q_us</ci>
                        </apply>
                        <ci>C_T</ci>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_T</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u_in</ci>
                            <ci>u</ci>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>v</ci>
                                <ci>R_T_wCont</ci>
                            </apply>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                    <ci>I_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v_T</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>v_T</ci>
                                <ci>R_T_wCont</ci>
                            </apply>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                    <ci>I_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_T_wCont</ci>
                <apply>
                    <times/>
                    <ci>R_T</ci>
                    <apply>
                        <plus/>
                        <cn cellml:units="dimensionless">1</cn>
                        <ci>Delta_R</ci>
                    </apply>
                    <ci>R_local_multiplier</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pp_T_R1CR2_wCont_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="R_T1" public_interface="in" units="Js_per_m6"/>
        <variable name="R_T2" public_interface="in" units="Js_per_m6"/>
        <variable name="C_T" public_interface="in" units="m6_per_J"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <!-- v_T is the output flow to the venous side-->
        <variable name="v_T" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_us" public_interface="in" units="m3"/>
        <variable name="q_init" public_interface="in" units="m3"/>
        <variable initial_value="q_init" name="q" public_interface="out" units="m3"/>
        <variable name="R_T1_wCont" public_interface="out" units="Js_per_m6"/>
        <variable name="R_T2_wCont" public_interface="out" units="Js_per_m6"/>
        <variable name="Delta_R" public_interface="in" units="Js_per_m6"/>
        <variable name="R_local_multiplier" public_interface="in" units="dimensionless"/>
        <!-- Conservation Laws-->
        <!-- For now terminals don't have a gravity effect, change this for leg terminals-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>q</ci>
                        <ci>q_us</ci>
                    </apply>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>v</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u_in</ci>
                        <ci>u</ci>
                    </apply>
                    <ci>R_T1_wCont</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>v_T</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u</ci>
                        <ci>u_out</ci>
                    </apply>
                    <ci>R_T2_wCont</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_T1_wCont</ci>
                <apply>
                    <times/>
                    <apply>
                        <plus/>
                        <ci>R_T1</ci>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>Delta_R</ci>
                                <ci>R_T1</ci>
                            </apply>
                            <apply>
                                <plus/>
                                <ci>R_T1</ci>
                                <ci>R_T2</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>R_local_multiplier</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_T2_wCont</ci>
                <apply>
                    <times/>
                    <apply>
                        <plus/>
                        <ci>R_T2</ci>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>Delta_R</ci>
                                <ci>R_T2</ci>
                            </apply>
                            <apply>
                                <plus/>
                                <ci>R_T1</ci>
                                <ci>R_T2</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>R_local_multiplier</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pp_T_RCR_wCont_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="R_T" public_interface="in" units="Js_per_m6"/>
        <variable name="C_T" public_interface="in" units="m6_per_J"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <!-- v_T is the output flow to the venous side-->
        <variable name="v_T" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_us" public_interface="in" units="m3"/>
        <variable name="q_init" public_interface="in" units="m3"/>
        <variable initial_value="q_init" name="q" public_interface="out" units="m3"/>
        <variable name="R_T_wCont" public_interface="out" units="Js_per_m6"/>
        <variable name="Delta_R" public_interface="in" units="dimensionless"/>
        <variable name="R_local_multiplier" public_interface="in" units="dimensionless"/>
        <!-- Conservation Laws-->
        <!-- For now terminals don't have a gravity effect, change this for leg terminals-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>q</ci>
                        <ci>q_us</ci>
                    </apply>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_C</ci>
                    <apply>
                        <plus/>
                        <ci>u_ext</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>v</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u_in</ci>
                        <ci>u</ci>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>R_T_wCont</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>v_T</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u</ci>
                        <ci>u_out</ci>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>R_T_wCont</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_T_wCont</ci>
                <apply>
                    <times/>
                    <ci>R_T</ci>
                    <apply>
                        <plus/>
                        <cn cellml:units="dimensionless">1</cn>
                        <ci>Delta_R</ci>
                    </apply>
                    <ci>R_local_multiplier</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pp_T_RICRI_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I_T_1" public_interface="in" units="Js2_per_m6"/>
        <variable name="I_T_2" public_interface="in" units="Js2_per_m6"/>
        <variable name="R_T" public_interface="in" units="Js_per_m6"/>
        <variable name="R_T_1" units="Js_per_m6"/>
        <variable name="R_T_2" units="Js_per_m6"/>
        <variable name="frac_R_T_1_of_R_T" public_interface="in" units="dimensionless"/>
        <variable name="C_T" public_interface="in" units="m6_per_J"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>R_T_1</ci>
                <apply>
                    <times/>
                    <ci>frac_R_T_1_of_R_T</ci>
                    <ci>R_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_T_2</ci>
                <apply>
                    <times/>
                    <apply>
                        <minus/>
                        <cn cellml:units="dimensionless">1</cn>
                        <ci>frac_R_T_1_of_R_T</ci>
                    </apply>
                    <ci>R_T</ci>
                </apply>
            </apply>
        </math>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <!-- v_T is the output flow to the venous side-->
        <variable initial_value="0.0" name="v_T" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_us" public_interface="in" units="m3"/>
        <variable name="q_init" public_interface="in" units="m3"/>
        <variable initial_value="q_init" name="q" public_interface="out" units="m3"/>
        <!-- Conservation Laws-->
        <!-- For now terminals don't have a gravity effect, change this for leg terminals-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_T</ci>
                </apply>
            </apply>
            <!-- rearrange to try to make opencor recognise an ode
 ode(q, t) = (u_in-(q/C_T+u_ext))/R_T_1-(q/C_T+u_ext-u_out)/R_T_2;-->
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>q</ci>
                        <ci>q_us</ci>
                    </apply>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u_in</ci>
                            <ci>u</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R_T_1</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I_T_1</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v_T</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R_T_2</ci>
                            <ci>v_T</ci>
                        </apply>
                    </apply>
                    <ci>I_T_2</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pp_T_RICRI_nonlinear_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I_T_1" public_interface="in" units="Js2_per_m6"/>
        <variable name="I_T_2" public_interface="in" units="Js2_per_m6"/>
        <variable name="R_T" public_interface="in" units="Js_per_m6"/>
        <variable name="R_T_1" units="Js_per_m6"/>
        <variable name="R_T_2" units="Js_per_m6"/>
        <variable name="frac_R_T_1_of_R_T" public_interface="in" units="dimensionless"/>
        <!-- var C_T: m6_per_J {pub: in};-->
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>R_T_1</ci>
                <apply>
                    <times/>
                    <ci>frac_R_T_1_of_R_T</ci>
                    <ci>R_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_T_2</ci>
                <apply>
                    <times/>
                    <apply>
                        <minus/>
                        <cn cellml:units="dimensionless">1</cn>
                        <ci>frac_R_T_1_of_R_T</ci>
                    </apply>
                    <ci>R_T</ci>
                </apply>
            </apply>
        </math>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <!-- v_T is the output flow to the venous side-->
        <variable initial_value="0.0" name="v_T" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="q_init" name="q" public_interface="out" units="m3"/>
        <variable name="q_us" public_interface="in" units="m3"/>
        <variable name="q_init" public_interface="in" units="m3"/>
        <!-- Conservation Laws-->
        <!-- For now terminals don't have a gravity effect, change this for leg terminals-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_T</ci>
                </apply>
            </apply>
            <!-- rearrange to try to make opencor recognise an ode
 ode(q, t) = (u_in-(q/C_T+u_ext))/R_T_1-(q/C_T+u_ext-u_out)/R_T_2;-->
            <!-- u           = q/C_T+u_ext;-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_us</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_us</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u_in</ci>
                            <ci>u</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R_T_1</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I_T_1</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v_T</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R_T_2</ci>
                            <ci>v_T</ci>
                        </apply>
                    </apply>
                    <ci>I_T_2</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_T_wCont_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="R_T2" public_interface="in" units="Js_per_m6"/>
        <variable name="C_T" public_interface="in" units="m6_per_J"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <!-- v_T is the output flow to the venous side-->
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="v_T" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_init" public_interface="in" units="m3"/>
        <variable name="q_us" public_interface="in" units="m3"/>
        <variable initial_value="q_init" name="q" public_interface="out" units="m3"/>
        <variable name="R_T2_wCont" public_interface="out" units="Js_per_m6"/>
        <variable name="Delta_R" public_interface="in" units="dimensionless"/>
        <variable name="R_local_multiplier" public_interface="in" units="dimensionless"/>
        <!-- Conservation Laws-->
        <!-- For now terminals don't have a gravity effect, change this for leg terminals-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>q</ci>
                        <ci>q_us</ci>
                    </apply>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>v_T</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u</ci>
                        <ci>u_out</ci>
                    </apply>
                    <ci>R_T2_wCont</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_T2_wCont</ci>
                <apply>
                    <times/>
                    <ci>R_T2</ci>
                    <apply>
                        <plus/>
                        <cn cellml:units="dimensionless">1</cn>
                        <ci>Delta_R</ci>
                    </apply>
                    <ci>R_local_multiplier</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_T_R1CR2_wCont_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="R_T1" public_interface="in" units="Js_per_m6"/>
        <variable name="R_T2" public_interface="in" units="Js_per_m6"/>
        <variable name="C_T" public_interface="in" units="m6_per_J"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <!-- v_T is the output flow to the venous side-->
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="v_T" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_init" public_interface="in" units="m3"/>
        <variable name="q_us" public_interface="in" units="m3"/>
        <variable initial_value="q_init" name="q" public_interface="out" units="m3"/>
        <!-- R_T1_wCont is only used to transfer to the FV coupling with Lucas' models.-->
        <variable name="R_T1_wCont" public_interface="out" units="Js_per_m6"/>
        <variable name="R_T2_wCont" public_interface="out" units="Js_per_m6"/>
        <!-- TODO this hasn't been modified for new control laws.-->
        <variable name="Delta_R" public_interface="in" units="Js_per_m6"/>
        <variable name="R_local_multiplier" public_interface="in" units="dimensionless"/>
        <!-- Conservation Laws-->
        <!-- For now terminals don't have a gravity effect, change this for leg terminals-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>q</ci>
                        <ci>q_us</ci>
                    </apply>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_C</ci>
                    <apply>
                        <plus/>
                        <ci>u_ext</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>v_T</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u</ci>
                        <ci>u_out</ci>
                    </apply>
                    <ci>R_T2_wCont</ci>
                </apply>
            </apply>
            <!-- The below assumes that Delta_R1 is proportional to R1 etc-->
            <apply>
                <eq/>
                <ci>R_T1_wCont</ci>
                <apply>
                    <times/>
                    <apply>
                        <plus/>
                        <ci>R_T1</ci>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>Delta_R</ci>
                                <ci>R_T1</ci>
                            </apply>
                            <apply>
                                <plus/>
                                <ci>R_T1</ci>
                                <ci>R_T2</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>R_local_multiplier</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_T2_wCont</ci>
                <apply>
                    <times/>
                    <apply>
                        <plus/>
                        <ci>R_T2</ci>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>Delta_R</ci>
                                <ci>R_T2</ci>
                            </apply>
                            <apply>
                                <plus/>
                                <ci>R_T1</ci>
                                <ci>R_T2</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>R_local_multiplier</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--/////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////// Junctions //////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////-->
    <!-- Bifurcation-->
    <component name="pv_split_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable name="du_C_dt" public_interface="out" units="J_per_m3s"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <!-- The below assumes constant compliance and is only used as an approximate output for the baroreceptor-->
            <apply>
                <eq/>
                <ci>du_C_dt</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_1</ci>
                        </apply>
                        <ci>v_out_2</ci>
                    </apply>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- the below allows non constant compliance-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <ci>q_C</ci>
                        <ci>C</ci>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>v</ci>
                                <ci>v_out_1</ci>
                            </apply>
                            <ci>v_out_2</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pv_split_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
        </math>
        <!-- State Variables-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="du_C_dt" public_interface="out" units="J_per_m3s"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u_in</ci>
                            <ci>u</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <!-- The below assumes constant compliance and is only used as an approximate output for the baroreceptor-->
            <apply>
                <eq/>
                <ci>du_C_dt</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_1</ci>
                        </apply>
                        <ci>v_out_2</ci>
                    </apply>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- the below allows non constant compliance-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <ci>q_C</ci>
                        <ci>C</ci>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>v</ci>
                                <ci>v_out_1</ci>
                            </apply>
                            <ci>v_out_2</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_split_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_C_d</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C_d</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>v</ci>
                                <ci>v_out_1</ci>
                            </apply>
                            <ci>v_out_2</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_split_novisco_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_C_d</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C_d</ci>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_split_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_C_d</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_d</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <ci>q_C</ci>
                        <apply>
                            <divide/>
                            <ci>C</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <ci>q_C_d</ci>
                        <apply>
                            <divide/>
                            <ci>C</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C_d</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>v</ci>
                                <ci>v_out_1</ci>
                            </apply>
                            <ci>v_out_2</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//
&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <!-- 2 in 2 out junction-->
    <component name="vv_2in2out_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_C_d</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>v_in_1</ci>
                        <ci>v_in_2</ci>
                    </apply>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_ext</ci>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <plus/>
                                <ci>v_in_1</ci>
                                <ci>v_in_2</ci>
                            </apply>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_ext</ci>
                    <ci>u_C_d</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>v</ci>
                                <ci>v_out_1</ci>
                            </apply>
                            <ci>v_out_2</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <!-- 2in1out merge vv-->
    <component name="vv_merge_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_C_d</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>v_in_1</ci>
                        <ci>v_in_2</ci>
                    </apply>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_ext</ci>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <plus/>
                                <ci>v_in_1</ci>
                                <ci>v_in_2</ci>
                            </apply>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_ext</ci>
                    <ci>u_C_d</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <!-- 2in1out merge vp-->
    <component name="vp_merge_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>v_in_1</ci>
                        <ci>v_in_2</ci>
                    </apply>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <ci>C</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_ext</ci>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <plus/>
                                <ci>v_in_1</ci>
                                <ci>v_in_2</ci>
                            </apply>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_merge_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <!-- ode(u_C, t) = (v_in_1+v_in_2-v)/C;-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>v_in_1</ci>
                        <ci>v_in_2</ci>
                    </apply>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <ci>C</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_ext</ci>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <plus/>
                                <ci>v_in_1</ci>
                                <ci>v_in_2</ci>
                            </apply>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <!-- 2in1out merge vv simple-->
    <component name="vv_merge_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_Cq_C_d</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_d</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>v_in_1</ci>
                        <ci>v_in_2</ci>
                    </apply>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_ext</ci>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <plus/>
                                <ci>v_in_1</ci>
                                <ci>v_in_2</ci>
                            </apply>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_ext</ci>
                    <ci>u_C_d</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="zero_flow">
        <variable name="v_zero" public_interface="out" units="m3_per_s"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>v_zero</ci>
                <cn cellml:units="m3_per_s">0</cn>
            </apply>
        </math>
    </component>
    <component name="flow_sum_2_type">
        <variable name="t" public_interface="in" units="second"/>
        <variable name="v_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_2" public_interface="in" units="m3_per_s"/>
        <variable name="v_total" public_interface="out" units="m3_per_s"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>v_total</ci>
                <apply>
                    <plus/>
                    <ci>v_1</ci>
                    <ci>v_2</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="W_controller2_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="I_T" public_interface="out" units="Js2_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="R_T" public_interface="in" units="Js_per_m6"/>
        <variable name="C_T" public_interface="in" units="m6_per_J"/>
        <!-- State Variables-->
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <!-- v_T is the output flow to the venous side-->
        <variable initial_value="0.0" name="v_T" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_T" public_interface="out" units="m3"/>
        <variable name="R_T_wCont" public_interface="out" units="Js_per_m6"/>
        <!-- Conservation Laws-->
        <!-- Improve this R_v estimate?-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I_T</ci>
                <cn cellml:units="Js2_per_m6" type="e-notation">1<sep/>-6</cn>
            </apply>
            <!-- Conservation Laws-->
            <!-- For now terminals don't have a gravity effect, change this for leg terminals
u_out = 0{J_per_m3};-->
            <apply>
                <eq/>
                <ci>u_out</ci>
                <cn cellml:units="dimensionless">0</cn>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_T</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_T</ci>
                    <ci>C_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_C</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_T</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u_in</ci>
                            <ci>u</ci>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>v</ci>
                                <ci>R_T_wCont</ci>
                            </apply>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                    <ci>I_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v_T</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>v_T</ci>
                                <ci>R_T_wCont</ci>
                            </apply>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                    <ci>I_T</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_T_wCont</ci>
                <ci>R_T</ci>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//
&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;- NONLINEAR ELASTIC/VISCOELASTIC VESSEL MODULES &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//
&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="pv_nonlinear_constR_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));
 R = 8{dimensionless}*mu*l/(pi*pow(r, 4{dimensionless}));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pv_nonlinear_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pv_nonlinear_visco_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="vp_nonlinear_constR_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));
 R = 8{dimensionless}*mu*l/(pi*pow(r, 4{dimensionless}));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_nonlinear_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_nonlinear_visco_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="pp_nonlinear_constR_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v_d" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));
 R = 8{dimensionless}*mu*l/(pi*pow(r, 4{dimensionless}));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>R_flag</ci>
                                        <ci>R</ci>
                                    </apply>
                                    <cn cellml:units="dimensionless">2</cn>
                                </apply>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>I</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v_d</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <apply>
                                <divide/>
                                <apply>
                                    <times/>
                                    <ci>R_flag</ci>
                                    <ci>R</ci>
                                </apply>
                                <cn cellml:units="dimensionless">2</cn>
                            </apply>
                            <ci>v_d</ci>
                        </apply>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>I</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pp_nonlinear_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v_d" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>R_flag</ci>
                                        <ci>R</ci>
                                    </apply>
                                    <cn cellml:units="dimensionless">2</cn>
                                </apply>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>I</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v_d</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <apply>
                                <divide/>
                                <apply>
                                    <times/>
                                    <ci>R_flag</ci>
                                    <ci>R</ci>
                                </apply>
                                <cn cellml:units="dimensionless">2</cn>
                            </apply>
                            <ci>v_d</ci>
                        </apply>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>I</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pp_nonlinear_visco_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v_d" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>R_flag</ci>
                                        <ci>R</ci>
                                    </apply>
                                    <cn cellml:units="dimensionless">2</cn>
                                </apply>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>I</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v_d</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <apply>
                                <divide/>
                                <apply>
                                    <times/>
                                    <ci>R_flag</ci>
                                    <ci>R</ci>
                                </apply>
                                <cn cellml:units="dimensionless">2</cn>
                            </apply>
                            <ci>v_d</ci>
                        </apply>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>I</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_d</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="vv_nonlinear_constR_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));
 R = 8{dimensionless}*mu*l/(pi*pow(r, 4{dimensionless}));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_nonlinear_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_nonlinear_visco_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!--I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law
 for this 0D module, the length l must be divided by 2 in the formula for K_tube_visco, as the element is split with two pressure variables-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="pv_split_nonlinear_constR_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="du_dt" public_interface="out" units="J_per_m3s"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));
 R = 8{dimensionless}*mu*l/(pi*pow(r, 4{dimensionless}));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <!-- The below assumes constant compliance and is only used as an approximate output for the baroreceptor
 TODO differentiate the tube law to get what this should be.-->
            <apply>
                <eq/>
                <ci>du_dt</ci>
                <apply>
                    <times/>
                    <ci>K_tube</ci>
                    <apply>
                        <minus/>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>m_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>m_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>m_tube</ci>
                            </apply>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>n_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>n_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_1</ci>
                        </apply>
                        <ci>v_out_2</ci>
                    </apply>
                </apply>
            </apply>
            <!-- the below allows non constant compliance-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pv_split_nonlinear_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="du_dt" public_interface="out" units="J_per_m3s"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <!-- The below assumes constant compliance and is only used as an approximate output for the baroreceptor
 TODO differentiate the tube law to get what this should be.-->
            <apply>
                <eq/>
                <ci>du_dt</ci>
                <apply>
                    <times/>
                    <ci>K_tube</ci>
                    <apply>
                        <minus/>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>m_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>m_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>m_tube</ci>
                            </apply>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>n_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>n_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_1</ci>
                        </apply>
                        <ci>v_out_2</ci>
                    </apply>
                </apply>
            </apply>
            <!-- the below allows non constant compliance-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pv_split_nonlinear_visco_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="du_dt" public_interface="out" units="J_per_m3s"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <!-- The below assumes constant compliance and is only used as an approximate output for the baroreceptor
 TODO differentiate the tube law to get what this should be.-->
            <apply>
                <eq/>
                <ci>du_dt</ci>
                <apply>
                    <times/>
                    <ci>K_tube</ci>
                    <apply>
                        <minus/>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>m_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>m_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>m_tube</ci>
                            </apply>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>n_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>n_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_1</ci>
                        </apply>
                        <ci>v_out_2</ci>
                    </apply>
                </apply>
            </apply>
            <!-- the below allows non constant compliance-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>v</ci>
                                <ci>v_out_1</ci>
                            </apply>
                            <ci>v_out_2</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="vv_split_nonlinear_constR_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));
 R = 8{dimensionless}*mu*l/(pi*pow(r, 4{dimensionless}));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_split_nonlinear_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_split_nonlinear_visco_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_1</ci>
                    </apply>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law
 for this 0D module, the length l must be divided by 2 in the formula for K_tube_visco, as the element is split with two pressure variables-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>v</ci>
                                <ci>v_out_1</ci>
                            </apply>
                            <ci>v_out_2</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="vp_merge_nonlinear_constR_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));
 R = 8{dimensionless}*mu*l/(pi*pow(r, 4{dimensionless}));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>v_in_1</ci>
                        <ci>v_in_2</ci>
                    </apply>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_merge_nonlinear_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>v_in_1</ci>
                        <ci>v_in_2</ci>
                    </apply>
                    <ci>v</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_merge_nonlinear_visco_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>v_in_1</ci>
                        <ci>v_in_2</ci>
                    </apply>
                    <ci>v</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <plus/>
                                <ci>v_in_1</ci>
                                <ci>v_in_2</ci>
                            </apply>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="vv_merge_nonlinear_constR_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));
 R = 8{dimensionless}*mu*l/(pi*pow(r, 4{dimensionless}));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>v_in_1</ci>
                        <ci>v_in_2</ci>
                    </apply>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_merge_nonlinear_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>v_in_1</ci>
                        <ci>v_in_2</ci>
                    </apply>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_merge_nonlinear_visco_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <!-- I = I_scale*rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <apply>
                        <plus/>
                        <ci>v_in_1</ci>
                        <ci>v_in_2</ci>
                    </apply>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law
 for this 0D module, the length l must be divided by 2 in the formula for K_tube_visco, as the element is split with two pressure variables-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <plus/>
                                <ci>v_in_1</ci>
                                <ci>v_in_2</ci>
                            </apply>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//
&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; GENERIC JUNCTION VESSEL MODULES &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;//
&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="vv_MinNout_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_0</ci>
                    <ci>q_C</ci>
                    <ci>q_C_d</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_d</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in_sum</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C_d</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_sum</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_MinNout_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_0</ci>
                    <ci>q_C</ci>
                    <ci>q_C_d</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in_sum</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C_d</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_sum</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_MinNout_nonlinear_constR_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_MinNout_nonlinear_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law.-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_MinNout_nonlinear_visco_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- for this 0D module, the length l must be divided by 2 in the formula for K_tube_visco, as the element is split with two pressure variables-->
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law
 for this 0D module, the length l must be divided by 2 in the formula for K_tube_visco, as the element is split with two pressure variables-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="vp_Min_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
        </math>
        <!-- State Variables-->
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <!-- Constitutive Relations-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_out</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <ci>C</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in_sum</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_Min_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
        </math>
        <!-- State Variables-->
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <!-- Constitutive Relations-->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <ci>C</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in_sum</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_Min_nonlinear_constR_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_Min_nonlinear_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_Min_nonlinear_visco_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_out</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <ci>v_in_sum</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="vv_Min_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_0</ci>
                    <ci>q_C_d</ci>
                    <ci>q_C</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_d</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in_sum</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C_d</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_Min_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_0</ci>
                    <ci>q_C_d</ci>
                    <ci>q_C</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in_sum</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C_d</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_Min_nonlinear_constR_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_Min_nonlinear_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_Min_nonlinear_visco_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_in_sum" public_interface="in" units="m3_per_s"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_sum</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law
 for this 0D module, the length l must be divided by 2 in the formula for K_tube_visco, as the element is split with two pressure variables-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="pv_Nout_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable name="du_C_dt" public_interface="out" units="J_per_m3s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u_in</ci>
                            <ci>u</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <!-- The below assumes constant compliance and is only used as an approximate output for the baroreceptor-->
            <apply>
                <eq/>
                <ci>du_C_dt</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_sum</ci>
                    </apply>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- The below allows non constant compliance-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <ci>C</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_sum</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pv_Nout_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable name="du_C_dt" public_interface="out" units="J_per_m3s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <!-- The below assumes constant compliance and is only used as an approximate output for the baroreceptor-->
            <apply>
                <eq/>
                <ci>du_C_dt</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_sum</ci>
                    </apply>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- The below allows non constant compliance-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <ci>C</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_sum</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pv_Nout_nonlinear_constR_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="du_dt" public_interface="out" units="J_per_m3s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <!-- The below assumes constant compliance and is only used as an approximate output for the baroreceptor
 TODO differentiate the tube law to get what this should be-->
            <apply>
                <eq/>
                <ci>du_dt</ci>
                <apply>
                    <times/>
                    <ci>K_tube</ci>
                    <apply>
                        <minus/>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>m_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>m_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>m_tube</ci>
                            </apply>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>n_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>n_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_sum</ci>
                    </apply>
                </apply>
            </apply>
            <!-- The below allows non constant compliance-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pv_Nout_nonlinear_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="du_dt" public_interface="out" units="J_per_m3s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <!-- The below assumes constant compliance and is only used as an approximate output for the baroreceptor
 TODO differentiate the tube law to get what this should be-->
            <apply>
                <eq/>
                <ci>du_dt</ci>
                <apply>
                    <times/>
                    <ci>K_tube</ci>
                    <apply>
                        <minus/>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>m_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>m_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>m_tube</ci>
                            </apply>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>n_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>n_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_sum</ci>
                    </apply>
                </apply>
            </apply>
            <!-- The below allows non constant compliance-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pv_Nout_nonlinear_visco_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="du_dt" public_interface="out" units="J_per_m3s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u_in</ci>
                                <ci>u</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <!-- The below assumes constant compliance and is only used as an approximate output for the baroreceptor
 TODO differentiate the tube law to get what this should be-->
            <apply>
                <eq/>
                <ci>du_dt</ci>
                <apply>
                    <times/>
                    <ci>K_tube</ci>
                    <apply>
                        <minus/>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>m_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>m_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>m_tube</ci>
                            </apply>
                        </apply>
                        <apply>
                            <divide/>
                            <apply>
                                <times/>
                                <ci>n_tube</ci>
                                <apply>
                                    <power/>
                                    <ci>q</ci>
                                    <apply>
                                        <minus/>
                                        <ci>n_tube</ci>
                                        <cn cellml:units="dimensionless">1</cn>
                                    </apply>
                                </apply>
                            </apply>
                            <apply>
                                <power/>
                                <ci>q_0</ci>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <minus/>
                        <ci>v</ci>
                        <ci>v_out_sum</ci>
                    </apply>
                </apply>
            </apply>
            <!-- The below allows non constant compliance-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q</ci>
                                    <ci>q_0</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <apply>
                        <times/>
                        <ci>K_tube_visco</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_sum</ci>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//-->
    <component name="vv_Nout_simple_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="q_0" public_interface="in" units="m3"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="R" public_interface="in" units="Js_per_m6"/>
        <variable name="C" public_interface="in" units="m6_per_J"/>
        <variable name="I" public_interface="in" units="Js2_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <!-- State Variables-->
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_0</ci>
                    <ci>q_C</ci>
                    <ci>q_C_d</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <ci>u</ci>
                            <ci>u_d</ci>
                        </apply>
                        <apply>
                            <times/>
                            <ci>R</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C_d</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_sum</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_Nout_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="R_v" public_interface="out" units="Js_per_m6"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="u_C" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable name="u_C_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_0" public_interface="out" units="m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r_0</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_0</ci>
                    <ci>q_C</ci>
                    <ci>q_C_d</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r_0</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r_0</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R_v</ci>
                <apply>
                    <divide/>
                    <cn cellml:units="second">0.01</cn>
                    <ci>C</ci>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C</ci>
                <apply>
                    <divide/>
                    <ci>q_C</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_C_d</ci>
                <apply>
                    <divide/>
                    <ci>q_C_d</ci>
                    <apply>
                        <divide/>
                        <ci>C</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v_in</ci>
                            <ci>v</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <ci>u_C_d</ci>
                    <ci>u_ext</ci>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <ci>R_v</ci>
                        <apply>
                            <minus/>
                            <ci>v</ci>
                            <ci>v_out_sum</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_Nout_nonlinear_constR_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_Nout_nonlinear_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vv_Nout_nonlinear_visco_type">
        <!-- OK-->
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="g" public_interface="in" units="m_per_s2"/>
        <variable name="beta_g" public_interface="in" units="dimensionless"/>
        <variable name="theta" public_interface="in" units="dimensionless"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="r" public_interface="out" units="metre"/>
        <variable name="r_0" public_interface="in" units="metre"/>
        <variable name="u_0" public_interface="in" units="J_per_m3"/>
        <variable name="I" public_interface="out" units="Js2_per_m6"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <variable name="m_tube" public_interface="in" units="dimensionless"/>
        <variable name="n_tube" public_interface="in" units="dimensionless"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_d" public_interface="out" units="J_per_m3"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable initial_value="0.0" name="q_C_d" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_p" public_interface="out" units="m3"/>
        <variable name="q_d" public_interface="out" units="m3"/>
        <variable name="q_0_2" public_interface="out" units="m3"/>
        <variable name="R_flag" public_interface="in" units="dimensionless"/>
        <variable name="I_scale" public_interface="in" units="dimensionless"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_sum" public_interface="in" units="m3_per_s"/>
        <variable name="K_tube" public_interface="in" units="J_per_m3"/>
        <variable name="K_tube_visco" public_interface="in" units="Js_per_m6"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_0_2</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <cn cellml:units="dimensionless">2</cn>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_p</ci>
                <apply>
                    <plus/>
                    <ci>q_C</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q_d</ci>
                <apply>
                    <plus/>
                    <ci>q_C_d</ci>
                    <ci>q_0_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_p</ci>
                    <ci>q_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>r</ci>
                <apply>
                    <root/>
                    <apply>
                        <divide/>
                        <ci>q</ci>
                        <apply>
                            <times/>
                            <pi/>
                            <ci>l</ci>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>I</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <ci>I_scale</ci>
                        <ci>rho</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r_0</ci>
                            <cn cellml:units="dimensionless">2</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>v</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <minus/>
                            <apply>
                                <minus/>
                                <ci>u</ci>
                                <ci>u_d</ci>
                            </apply>
                            <apply>
                                <times/>
                                <ci>R_flag</ci>
                                <ci>R</ci>
                                <ci>v</ci>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>beta_g</ci>
                            <ci>rho</ci>
                            <ci>g</ci>
                            <ci>l</ci>
                            <apply>
                                <cos/>
                                <apply>
                                    <divide/>
                                    <apply>
                                        <times/>
                                        <ci>theta</ci>
                                        <pi/>
                                    </apply>
                                    <cn cellml:units="dimensionless">180</cn>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                    <ci>I</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C_d</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_sum</ci>
                </apply>
            </apply>
            <!-- Nonlinear tube law
 for this 0D module, the length l must be divided by 2 in the formula for K_tube_visco, as the element is split with two pressure variables-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_p</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u_d</ci>
                <apply>
                    <plus/>
                    <ci>u_0</ci>
                    <apply>
                        <times/>
                        <ci>K_tube</ci>
                        <apply>
                            <minus/>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>m_tube</ci>
                            </apply>
                            <apply>
                                <power/>
                                <apply>
                                    <divide/>
                                    <ci>q_d</ci>
                                    <ci>q_0_2</ci>
                                </apply>
                                <ci>n_tube</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-//
&#45;&#45;&#45;&#45;- Capillary types below &#45;&#45;&#45;&#45; //-->
    <component name="pv_constriction_type">
        <variable name="t" public_interface="in" units="second"/>
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r" public_interface="in" units="metre"/>
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- Constitutive parameters-->
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <!-- var I: Js2_per_m6 {pub: out};-->
        <!-- State Variables-->
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="v_out" public_interface="in" units="m3_per_s"/>
        <variable initial_value="0.0" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_us" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_us</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_us</ci>
                    <ci>q_C</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- I = rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <!-- ode(v, t)   = (u_in-u-v*R)/I;-->
            <apply>
                <eq/>
                <ci>v</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u_in</ci>
                        <ci>u</ci>
                    </apply>
                    <ci>R</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out</ci>
                </apply>
            </apply>
            <!-- constitutive laws-->
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <ci>q_C</ci>
                        <ci>C</ci>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pv_split_capillary_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r" public_interface="in" units="metre"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <!-- var I: Js2_per_m6 {pub: out};-->
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="v_out_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_2" public_interface="in" units="m3_per_s"/>
        <variable name="v_out_total" public_interface="out" units="m3_per_s"/>
        <variable name="q_C_init" public_interface="in" units="m3"/>
        <variable initial_value="q_C_init" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_us" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_us</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_us</ci>
                    <ci>q_C</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- I = rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <!--ode(v, t) = (u_in-u-R*v)/I;-->
            <apply>
                <eq/>
                <ci>v</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u_in</ci>
                        <ci>u</ci>
                    </apply>
                    <ci>R</ci>
                </apply>
            </apply>
            <!-- the below allows non constant compliance-->
            <apply>
                <eq/>
                <ci>v_out_total</ci>
                <apply>
                    <plus/>
                    <ci>v_out_1</ci>
                    <ci>v_out_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_out_total</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <ci>q_C</ci>
                        <ci>C</ci>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="pp_capillary_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r" public_interface="in" units="metre"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <!-- var I: Js2_per_m6 {pub: out};-->
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="u_in" public_interface="in" units="J_per_m3"/>
        <variable name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="v_d" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_C_init" public_interface="in" units="m3"/>
        <variable initial_value="q_C_init" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_us" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_us</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_us</ci>
                    <ci>q_C</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- I = rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <!--ode(v, t)   = (u_in-u-v*R/2{dimensionless})/I;-->
            <apply>
                <eq/>
                <ci>v</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u_in</ci>
                        <ci>u</ci>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>R</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v</ci>
                    <ci>v_d</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <ci>q_C</ci>
                        <ci>C</ci>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
            <!-- ode(v_d, t) = (u-u_out-v_d*R/2{dimensionless})/I;-->
            <apply>
                <eq/>
                <ci>v_d</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u</ci>
                        <ci>u_out</ci>
                    </apply>
                    <apply>
                        <divide/>
                        <ci>R</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_merge_capillary_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r" public_interface="in" units="metre"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <!-- var I: Js2_per_m6 {pub: out};-->
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in_1" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_2" public_interface="in" units="m3_per_s"/>
        <variable name="v_in_total" public_interface="out" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_C_init" public_interface="in" units="m3"/>
        <variable initial_value="q_C_init" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_us" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_us</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_us</ci>
                    <ci>q_C</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!--I = rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <!-- ode(v, t)   = (u-u_out-v*R)/I;-->
            <apply>
                <eq/>
                <ci>v</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u</ci>
                        <ci>u_out</ci>
                    </apply>
                    <ci>R</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>v_in_total</ci>
                <apply>
                    <plus/>
                    <ci>v_in_1</ci>
                    <ci>v_in_2</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in_total</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <ci>q_C</ci>
                        <ci>C</ci>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
    <component name="vp_capillary_type">
        <variable name="t" public_interface="in" units="second"/>
        <!-- Constitutive parameters-->
        <variable name="mu" public_interface="in" units="Js_per_m3"/>
        <variable name="rho" public_interface="in" units="Js2_per_m5"/>
        <variable name="E" public_interface="in" units="J_per_m3"/>
        <variable name="l" public_interface="in" units="metre"/>
        <variable name="h" public_interface="out" units="metre"/>
        <variable name="r" public_interface="in" units="metre"/>
        <variable name="C" public_interface="out" units="m6_per_J"/>
        <variable name="R" public_interface="out" units="Js_per_m6"/>
        <!-- var I: Js2_per_m6 {pub: out};-->
        <variable name="a_vessel" public_interface="in" units="dimensionless"/>
        <variable name="b_vessel" public_interface="in" units="per_m"/>
        <variable name="c_vessel" public_interface="in" units="dimensionless"/>
        <variable name="d_vessel" public_interface="in" units="per_m"/>
        <!-- State Variables-->
        <variable name="u_ext" public_interface="in" units="J_per_m3"/>
        <variable name="v_in" public_interface="in" units="m3_per_s"/>
        <variable name="u" public_interface="out" units="J_per_m3"/>
        <variable name="v" public_interface="out" units="m3_per_s"/>
        <variable name="u_out" public_interface="in" units="J_per_m3"/>
        <variable name="q_C_init" public_interface="in" units="m3"/>
        <variable initial_value="q_C_init" name="q_C" public_interface="out" units="m3"/>
        <variable name="q" public_interface="out" units="m3"/>
        <variable name="q_us" public_interface="out" units="m3"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>q_us</ci>
                <apply>
                    <times/>
                    <pi/>
                    <apply>
                        <power/>
                        <ci>r</ci>
                        <cn cellml:units="dimensionless">2</cn>
                    </apply>
                    <ci>l</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>q</ci>
                <apply>
                    <plus/>
                    <ci>q_us</ci>
                    <ci>q_C</ci>
                </apply>
            </apply>
            <!-- Constitutive Relations-->
            <apply>
                <eq/>
                <ci>h</ci>
                <apply>
                    <times/>
                    <ci>r</ci>
                    <apply>
                        <plus/>
                        <apply>
                            <times/>
                            <ci>a_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>b_vessel</ci>
                                    <ci>r</ci>
                                </apply>
                            </apply>
                        </apply>
                        <apply>
                            <times/>
                            <ci>c_vessel</ci>
                            <apply>
                                <exp/>
                                <apply>
                                    <times/>
                                    <ci>d_vessel</ci>
                                    <ci>r</ci>
                                </apply>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!--I = rho*l/(pi*sqr(r));-->
            <apply>
                <eq/>
                <ci>C</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">2</cn>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">3</cn>
                        </apply>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>E</ci>
                        <ci>h</ci>
                    </apply>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>R</ci>
                <apply>
                    <divide/>
                    <apply>
                        <times/>
                        <cn cellml:units="dimensionless">8</cn>
                        <ci>mu</ci>
                        <ci>l</ci>
                    </apply>
                    <apply>
                        <times/>
                        <pi/>
                        <apply>
                            <power/>
                            <ci>r</ci>
                            <cn cellml:units="dimensionless">4</cn>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <!-- Conservation Laws-->
            <!-- ode(v, t)   = (u-u_out-v*R)/I;-->
            <apply>
                <eq/>
                <ci>v</ci>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci>u</ci>
                        <ci>u_out</ci>
                    </apply>
                    <ci>R</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>t</ci>
                    </bvar>
                    <ci>q_C</ci>
                </apply>
                <apply>
                    <minus/>
                    <ci>v_in</ci>
                    <ci>v</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>u</ci>
                <apply>
                    <plus/>
                    <apply>
                        <divide/>
                        <ci>q_C</ci>
                        <ci>C</ci>
                    </apply>
                    <ci>u_ext</ci>
                </apply>
            </apply>
        </math>
    </component>
</model>
